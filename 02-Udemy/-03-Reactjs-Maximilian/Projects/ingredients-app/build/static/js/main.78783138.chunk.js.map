{"version":3,"sources":["components/UI/Card.js","components/UI/LoadingIndicator.js","components/Ingredients/IngredientForm.js","components/Ingredients/IngredientList.js","components/UI/ErrorModal.js","hooks/http.js","components/Ingredients/Search.js","components/Ingredients/Ingredients.js","context/auth-context.js","components/Auth.js","App.js","index.js"],"names":["Card","props","react_default","a","createElement","className","children","LoadingIndicator","IngredientForm","React","memo","_useState","useState","_useState2","Object","slicedToArray","enteredTitle","setEnteredTitle","_useState3","_useState4","enteredAmount","setEnteredAmount","components_UI_Card","onSubmit","event","preventDefault","onAddIngredient","title","amount","htmlFor","type","id","value","onChange","target","loading","components_UI_LoadingIndicator","IngredientList","ingredients","map","ig","key","onClick","onRemoveItem","bind","ErrorModal","Fragment","onClose","initialState","error","data","extra","identifier","httpReducer","curHttpState","action","objectSpread2","responseData","errorData","Error","useHttp","_useReducer","useReducer","_useReducer2","httpState","dispatchHttp","clear","useCallback","sendRequest","url","method","body","reqExtra","reqIdentifier","fetch","headers","Content-Type","then","response","json","catch","isLoading","Search","onLoadIngredients","enteredFilter","setEnteredFilter","inputRef","useRef","_useHttp","useEffect","timer","setTimeout","current","query","length","concat","clearTimeout","loadedIngredients","push","UI_ErrorModal","ref","ingredientReducer","currentIngredients","toConsumableArray","ingredient","filter","ing","Ingredients","userIngredients","dispatch","name","filteredIngredientsHandler","filteredIngredients","addIngredientHandler","JSON","stringify","removeIngredientHandler","ingredientID","ingredientList","useMemo","components_Ingredients_IngredientList","Ingredients_IngredientForm","Ingredients_Search","AuthContext","createContext","isAuth","login","AuthContextProvider","isAuthenticated","setIsAuthenticated","Provider","Auth","authContext","useContext","App","content","src_components_Auth","Ingredients_Ingredients","ReactDOM","render","auth_context","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.78783138.chunk.js","sourcesContent":["import React from 'react';\n\nimport './Card.css';\n\nconst Card = props => {\n  return <div className=\"card\">{props.children}</div>;\n};\n\nexport default Card;\n","import React from 'react';\n\nimport './LoadingIndicator.css';\n\nconst LoadingIndicator = () => (\n  <div className=\"lds-ring\">\n    <div />\n    <div />\n    <div />\n    <div />\n  </div>\n);\n\nexport default LoadingIndicator;\n","import React, { useState } from \"react\";\n\nimport Card from \"../UI/Card\";\nimport LoadingIndicator from \"../UI/LoadingIndicator\";\nimport \"./IngredientForm.css\";\n\nconst IngredientForm = React.memo((props) => {\n  const [enteredTitle, setEnteredTitle] = useState(\"\");\n  const [enteredAmount, setEnteredAmount] = useState(\"\");\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n    props.onAddIngredient({ title: enteredTitle, amount: enteredAmount });\n  };\n\n  return (\n    <section className=\"ingredient-form\">\n      <Card>\n        <form onSubmit={submitHandler}>\n          <div className=\"form-control\">\n            <label htmlFor=\"title\">Name</label>\n            <input\n              type=\"text\"\n              id=\"title\"\n              value={enteredTitle}\n              onChange={(event) => {\n                setEnteredTitle(event.target.value);\n              }}\n            />\n          </div>\n          <div className=\"form-control\">\n            <label htmlFor=\"amount\">Amount</label>\n            <input\n              type=\"number\"\n              id=\"amount\"\n              value={enteredAmount}\n              onChange={(event) => {\n                setEnteredAmount(event.target.value);\n              }}\n            />\n          </div>\n          <div className=\"ingredient-form__actions\">\n            <button type=\"submit\">Add Ingredient</button>\n            {props.loading && <LoadingIndicator />}\n          </div>\n        </form>\n      </Card>\n    </section>\n  );\n});\n\nexport default IngredientForm;\n","import React from \"react\";\n\nimport \"./IngredientList.css\";\n\nconst IngredientList = (props) => {\n  return (\n    <section className=\"ingredient-list\">\n      <h2>Loaded Ingredients</h2>\n      <ul>\n        {props.ingredients.map((ig) => (\n          <li key={ig.id} onClick={props.onRemoveItem.bind(this, ig.id)}>\n            <span>{ig.title}</span>\n            <span>{ig.amount}x</span>\n          </li>\n        ))}\n      </ul>\n    </section>\n  );\n};\n\nexport default IngredientList;\n","import React from 'react';\n\nimport './ErrorModal.css';\n\nconst ErrorModal = React.memo(props => {\n  return (\n    <React.Fragment>\n      <div className=\"backdrop\" onClick={props.onClose} />\n      <div className=\"error-modal\">\n        <h2>An Error Occurred!</h2>\n        <p>{props.children}</p>\n        <div className=\"error-modal__actions\">\n          <button type=\"button\" onClick={props.onClose}>\n            Okay\n          </button>\n        </div>\n      </div>\n    </React.Fragment>\n  );\n});\n\nexport default ErrorModal;\n","import { useReducer, useCallback } from \"react\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: null,\r\n  data: null,\r\n  extra: null,\r\n  identifier: null,\r\n};\r\n\r\nconst httpReducer = (curHttpState, action) => {\r\n  switch (action.type) {\r\n    case \"SEND\":\r\n      return {\r\n        loading: true,\r\n        error: null,\r\n        data: null,\r\n        extra: null,\r\n        identifier: action.identifier,\r\n      };\r\n    case \"RESPONSE\":\r\n      return {\r\n        ...curHttpState,\r\n        loading: false,\r\n        data: action.responseData,\r\n        extra: action.extra,\r\n      };\r\n    case \"ERROR\":\r\n      return { loading: false, error: action.errorData };\r\n    case \"CLEAR\":\r\n      return initialState;\r\n    default:\r\n      throw new Error(\"Should not be reached\");\r\n  }\r\n};\r\n\r\nconst useHttp = () => {\r\n  const [httpState, dispatchHttp] = useReducer(httpReducer, initialState);\r\n\r\n  const clear = useCallback(() => dispatchHttp({ type: \"CLEAR\" }), []);\r\n\r\n  const sendRequest = useCallback(\r\n    (url, method, body, reqExtra, reqIdentifier) => {\r\n      dispatchHttp({ type: \"SEND\", identifier: reqIdentifier });\r\n      fetch(url, {\r\n        method,\r\n        body,\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      })\r\n        .then((response) => {\r\n          return response.json();\r\n        })\r\n        .then((responseData) => {\r\n          dispatchHttp({ type: \"RESPONSE\", responseData, extra: reqExtra });\r\n        })\r\n        .catch((error) => {\r\n          dispatchHttp({ type: \"ERROR\", errorData: \"Something went wrong\" });\r\n        });\r\n    },\r\n    []\r\n  );\r\n\r\n  return {\r\n    isLoading: httpState.loading,\r\n    data: httpState.data,\r\n    error: httpState.error,\r\n    sendRequest,\r\n    reqExtra: httpState.extra,\r\n    reqIdentifier: httpState.identifier,\r\n    clear,\r\n  };\r\n};\r\n\r\nexport default useHttp;\r\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport Card from \"../UI/Card\";\nimport ErrorModal from \"../UI/ErrorModal\";\nimport useHttp from \"../../hooks/http\";\nimport \"./Search.css\";\n\nconst Search = React.memo((props) => {\n  const { onLoadIngredients } = props;\n  const [enteredFilter, setEnteredFilter] = useState(\"\");\n  const inputRef = useRef();\n  const { isLoading, data, error, sendRequest, clear } = useHttp();\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (enteredFilter === inputRef.current.value) {\n        const query =\n          enteredFilter.length === 0\n            ? \"\"\n            : `?orderBy=\"title\"&equalTo=\"${enteredFilter}\"`;\n        sendRequest(\n          \"https://react-hooks-update-ca8d9-default-rtdb.europe-west1.firebasedatabase.app/ingredients.json\" +\n            query,\n          \"GET\"\n        );\n      }\n    }, 500);\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [enteredFilter, inputRef, sendRequest]);\n\n  useEffect(() => {\n    if (!isLoading && !error && data) {\n      const loadedIngredients = [];\n      for (const key in data) {\n        loadedIngredients.push({\n          id: key,\n          title: data[key].title,\n          amount: data[key].amount,\n        });\n      }\n      onLoadIngredients(loadedIngredients);\n    }\n  }, [data, isLoading, error, onLoadIngredients]);\n\n  return (\n    <section className=\"search\">\n      {error && <ErrorModal onClose={clear}>{error}</ErrorModal>}\n      <Card>\n        <div className=\"search-input\">\n          <label>Filter by Title</label>\n          {isLoading && <span>Loading...</span>}\n          <input\n            ref={inputRef}\n            type=\"text\"\n            value={enteredFilter}\n            onChange={(event) => setEnteredFilter(event.target.value)}\n          />\n        </div>\n      </Card>\n    </section>\n  );\n});\n\nexport default Search;\n","import React, { useReducer, useEffect, useCallback, useMemo } from \"react\";\n\nimport IngredientForm from \"./IngredientForm\";\nimport IngredientList from \"./IngredientList\";\nimport ErrorModal from \"../UI/ErrorModal\";\nimport Search from \"./Search\";\nimport useHttp from \"../../hooks/http\";\n\nconst ingredientReducer = (currentIngredients, action) => {\n  switch (action.type) {\n    case \"SET\":\n      return action.ingredients;\n    case \"ADD\":\n      return [...currentIngredients, action.ingredient];\n    case \"DELETE\":\n      return currentIngredients.filter((ing) => ing.id !== action.id);\n    default:\n      throw new Error(\"Should not get there!\");\n  }\n};\n\nfunction Ingredients() {\n  const [userIngredients, dispatch] = useReducer(ingredientReducer, []);\n  const {\n    isLoading,\n    error,\n    data,\n    sendRequest,\n    reqExtra,\n    reqIdentifier,\n    clear,\n  } = useHttp();\n\n  // const [userIngredients, setUserIngredients] = useState([]);\n  // const [isLoading, setIsLoading] = useState(false);\n  // const [error, setError] = useState();\n\n  useEffect(() => {\n    if (!isLoading && !error && reqIdentifier === \"REMOVE_INGREDIENT\") {\n      dispatch({ type: \"DELETE\", id: reqExtra });\n    } else if (!isLoading && !error && reqIdentifier === \"ADD_INGREDIENT\") {\n      dispatch({\n        type: \"ADD\",\n        ingredient: { id: data.name, ...reqExtra },\n      });\n    }\n  }, [data, reqExtra, reqIdentifier, isLoading, error]);\n\n  const filteredIngredientsHandler = useCallback((filteredIngredients) => {\n    // setUserIngredients(filteredIngredients);\n    dispatch({ type: \"SET\", ingredients: filteredIngredients });\n  }, []);\n\n  const addIngredientHandler = useCallback(\n    (ingredient) => {\n      sendRequest(\n        \"https://react-hooks-update-ca8d9-default-rtdb.europe-west1.firebasedatabase.app/ingredients.json\",\n        \"POST\",\n        JSON.stringify(ingredient),\n        ingredient,\n        \"ADD_INGREDIENT\"\n      );\n\n      // dispatchHttp({ type: \"SEND\" });\n      // fetch(\n      //   \"https://react-hooks-update-ca8d9-default-rtdb.europe-west1.firebasedatabase.app/ingredients.json\",\n      //   {\n      //     method: \"POST\",\n      //     body: JSON.stringify(ingredient),\n      //     headers: { \"Content-Type\": \"application/json\" },\n      //   }\n      // )\n      //   .then((response) => {\n      //     dispatchHttp({ type: \"RESPONSE\" });\n      //     return response.json();\n      //   })\n      //   .then((responseData) => {\n      //     // setUserIngredients((prevIngredients) => [\n      //     //   ...prevIngredients,\n      //     //   { id: responseData.name, ...ingredient },\n      //     // ]);\n      //     dispatch({\n      //       type: \"ADD\",\n      //       ingredient: { id: responseData.name, ...ingredient },\n      //     });\n      //   });\n    },\n    [sendRequest]\n  );\n\n  const removeIngredientHandler = useCallback(\n    (ingredientID) => {\n      sendRequest(\n        `https://react-hooks-update-ca8d9-default-rtdb.europe-west1.firebasedatabase.app/ingredients/${ingredientID}.json`,\n        \"DELETE\",\n        null,\n        ingredientID,\n        \"REMOVE_INGREDIENT\"\n      );\n    },\n    [sendRequest]\n  );\n\n  const ingredientList = useMemo(() => {\n    return (\n      <IngredientList\n        ingredients={userIngredients}\n        onRemoveItem={removeIngredientHandler}\n      />\n    );\n  }, [userIngredients, removeIngredientHandler]);\n\n  return (\n    <div className=\"App\">\n      {error && <ErrorModal onClose={clear()}>{error}</ErrorModal>}\n\n      <IngredientForm\n        onAddIngredient={addIngredientHandler}\n        loading={isLoading}\n      />\n\n      <section>\n        <Search onLoadIngredients={filteredIngredientsHandler} />\n        {ingredientList}\n      </section>\n    </div>\n  );\n}\n\nexport default Ingredients;\n","import React, { useState } from \"react\";\r\n\r\nexport const AuthContext = React.createContext({\r\n  isAuth: false,\r\n  login: () => {},\r\n});\r\n\r\nconst AuthContextProvider = (props) => {\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n\r\n  const loginHandler = () => {\r\n    setIsAuthenticated(true);\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{ login: loginHandler, isAuth: isAuthenticated }}\r\n    >\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default AuthContextProvider;\r\n","import React, { useContext } from \"react\";\n\nimport Card from \"./UI/Card\";\nimport { AuthContext } from \"../context/auth-context\";\nimport \"./Auth.css\";\n\nconst Auth = (props) => {\n  const authContext = useContext(AuthContext);\n\n  const loginHandler = () => {\n    authContext.login();\n  };\n\n  return (\n    <div className=\"auth\">\n      <Card>\n        <h2>You are not authenticated!</h2>\n        <p>Please log in to continue.</p>\n        <button onClick={loginHandler}>Log In</button>\n      </Card>\n    </div>\n  );\n};\n\nexport default Auth;\n","import React, { useContext } from \"react\";\n\nimport Ingredients from \"./components/Ingredients/Ingredients\";\nimport Auth from \"./components/Auth\";\nimport { AuthContext } from \"./context/auth-context\";\n\nconst App = (props) => {\n  const authContext = useContext(AuthContext);\n\n  let content = <Auth />;\n\n  if (authContext.isAuth) {\n    content = <Ingredients />;\n  }\n  return content;\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./index.css\";\nimport App from \"./App\";\nimport AuthContextProvider from \"./context/auth-context\";\n\nReactDOM.render(\n  <AuthContextProvider>\n    <App />\n  </AuthContextProvider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}